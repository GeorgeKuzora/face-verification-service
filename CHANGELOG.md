# Change Log

## 0.1.0

### Новое

- Добавлены базовые абстракции для сервиса:
    - FaceVerificationService - сервис верификации лица пользователя.
- Добавлен пакет тестов FaceVerificationService. Пакет тестов включает юнит и интеграционные тесты.
- Создан файл gitlab-ci.yml. Настоен пайплайн для линтера и тестов.

## 0.2.0

### Новое

- Добавлено виртуальное хранилище данных InMemoryStorage.
- Добавлена заготовка под внешний сервис Kafka.
- Добавлен базовые хендлеры при помощи фреймворка FastAPI.
- Дополнен пакет тестов.

## 0.3.0

### Новое

- Добавлен Dockerfile и .dockerignore.
- Настроена сборка приложения в Docker контейнере.

## 0.4.0

### Новое

- Добавляет в проект зависимости для работы с kafka.
- Добавляет имплементацию kafka-consumer.
- Добавляет имплементацию Runner, для запуска процесса построения вектора изображения в отдельном процессе.
- Добавляет модуль построения конфигурации сервиса из YAML файла.
- Добавляет пакет тестов нового функционала.

### Изменения

- Изменяет имплементацию метода verify сервиса верификации. Теперь метод использует Runner для запуска построения вектора изображения в отдельном процессе.
- Добавляет тесты измененного функционала.

## 0.5.0

### Новое

- Добавляет sqlalchemy, pyscopg2 и alembic в зависимости проекта.
- Добавляет конфигурацию базы данных PostgreSQL в модуле `config.py` и файле конфигурации `config-local.yml`.
- Добавляет пакет тестов для тестирования конфигурации базы данных PostgreSQL.
- Добавляет класс `DBStorage` соответствующий интерфейсу `Storage` и инкапсулирующий логику взаимодействия с базой данных PostgreSQL.
- Добавляет пакет тестов класса `DBStorage` в проект.
- Добавляет инструмент для управления миграциями **alembic** в проект.
- Добавляет файлы миграции базы данных в проект.

### Изменения

- Убирает из класса `User` поле `representation`. Добавляет поле `is_verified`.
- Подключает сервис `db` с базой данных PostgreSQL к dev-контейнеру.
- Добавляет сервис `db` с базой данных PostgreSQL в конвейер gitlab-ci.

## 0.6.0

### Новое

- Созданы манифесты:
	- `deployment.yml`
	- `service.yml`
	- `configMap.yml`
	- `job.yml`
	- `pvc.yml`
- Добавлена конфигурация сервиса в файле `config-kube.yml`.
- В gitlab-ci добавлен этап, который отвечает за сборку и загрузку образов в реестр.
- Добавлена конфигурация `alembic_kube.ini` для миграций базы данных в среде kubernetes.

### Изменения

- Изменен рабочий порт сервиса на 8080.
- Обновлен `.dockerignore`.

## 0.7.0

### Новое

- Добавлен пакет шаблонов пакетного менеджера helm.
